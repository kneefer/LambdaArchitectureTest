{"paragraphs":[{"title":"Action - ALL","text":"SELECT * from rdbms_action;","user":"anonymous","dateUpdated":"2017-07-23T02:09:48+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":6,"editorMode":"ace/mode/sql","title":true,"results":{"0":{"graph":{"mode":"table","height":296,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\ttimestamp\tsite_id\taction_type_id\tvisitor_id\treferrer\tprevious_page\tgeo\ttime_spent_seconds\tsub_page\n1\t1500631200000\t1\t1\t1\tnull\tnull\tnull\t1\tnull\n2\t1500631200000\t1\t2\t1\tnull\tnull\tnull\t2\tnull\n3\t1500631200000\t1\t2\t2\tnull\tnull\tnull\t3\tnull\n4\t1500631200000\t1\t3\t3\tnull\tnull\tnull\t4\tnull\n5\t1500631200000\t2\t1\t1\tnull\tnull\tnull\t5\tnull\n6\t1500631200000\t2\t1\t2\tnull\tnull\tnull\t6\tnull\n"}]},"apps":[],"jobName":"paragraph_1500775515713_-567624337","id":"20170721-221707_773057910","dateCreated":"2017-07-23T02:05:15+0000","dateStarted":"2017-07-23T02:09:48+0000","dateFinished":"2017-07-23T02:09:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:12709"},{"title":"Recreate Tables","text":"CREATE TABLE IF NOT EXISTS rdbms_site (\n    id serial primary  key     NOT NULL,\n    name               text    NOT NULL UNIQUE\n);\n\nCREATE TABLE IF NOT EXISTS rdbms_action_type (\n    id serial primary  key     NOT NULL,\n    name               text    NOT NULL UNIQUE\n);\n\nCREATE TABLE IF NOT EXISTS rdbms_visitor (\n    id bigserial primary key     NOT NULL,\n    name                 text    NOT NULL UNIQUE\n);\n\nCREATE TABLE IF NOT EXISTS rdbms_action (\n    id bigserial primary key     NOT NULL,\n    timestamp            bigint  NOT NULL,\n    site_id              int     REFERENCES rdbms_site(id),\n    action_type_id       int     REFERENCES rdbms_action_type(id),\n    visitor_id           bigint  REFERENCES rdbms_visitor(id),\n    referrer             text    NULL,\n    previous_page        text    NULL,\n    geo                  text    NULL,\n    time_spent_seconds   int     NOT NULL,\n    sub_page             text    NULL\n);","dateUpdated":"2017-07-23T02:05:15+0000","config":{"lineNumbers":false,"tableHide":true,"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":4,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false},"helium":{}},"1":{"graph":{"mode":"table","height":93,"optionOpen":false}},"3":{"graph":{"mode":"table","height":93,"optionOpen":false}},"4":{"graph":{"mode":"table","height":93,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1500775515716_-568778583","id":"20170722-121854_68766376","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12710"},{"title":"Recreate Schema","text":"DROP SCHEMA public CASCADE;\nCREATE SCHEMA public;\n\nGRANT ALL ON SCHEMA public TO postgres;\nGRANT ALL ON SCHEMA public TO public;","dateUpdated":"2017-07-23T02:05:15+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":2,"editorMode":"ace/mode/sql","editorHide":true,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false},"helium":{}},"1":{"graph":{"mode":"table","height":93,"optionOpen":false}},"3":{"graph":{"mode":"table","height":150,"optionOpen":false}},"4":{"graph":{"mode":"table","height":93,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1500775515716_-568778583","id":"20170721-220418_1533699867","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12711"},{"title":"Site Actions","text":"SELECT s.name AS site, \n    MIN(a.timestamp) AS timestamp_bucket,\n    SUM(CASE WHEN t.name = 'add_to_favorites' THEN 1 ELSE 0 END) AS fav_count,\n    SUM(CASE WHEN t.name = 'comment' THEN 1 ELSE 0 END) AS comm_count,\n    SUM(CASE WHEN t.name = 'page_view' THEN 1 ELSE 0 END) AS view_count\nFROM rdbms_action a\nJOIN rdbms_site s \n    ON a.site_id = s.id\nJOIN rdbms_action_type t\n    ON a.action_type_id = t.id\nWHERE s.name = 'site1' AND a.timestamp > 123456791\nGROUP BY s.name","dateUpdated":"2017-07-23T02:11:53+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":4,"editorMode":"ace/mode/sql","title":true,"results":{"0":{"graph":{"mode":"table","height":106,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"site\ttimestamp_bucket\tfav_count\tcomm_count\tview_count\nsite1\t1500631200000\t1\t2\t1\n"}]},"apps":[],"jobName":"paragraph_1500775515717_-569163332","id":"20170722-122612_828013733","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12712"},{"title":"Unique Visitors","text":"SELECT s.name AS site, \n    MIN(a.timestamp) AS timestamp_bucket,\n    COUNT(DISTINCT(a.visitor_id)) AS unique_visitors\nFROM rdbms_action a\nJOIN rdbms_site s \n    ON a.site_id = s.id\nJOIN rdbms_visitor v\n    ON a.visitor_id = v.id\nWHERE s.name = 'site2'\nGROUP BY s.name","dateUpdated":"2017-07-23T02:11:51+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":5,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":138,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"site\ttimestamp_bucket\tunique_visitors\nsite2\t1500631200000\t2\n"}]},"apps":[],"jobName":"paragraph_1500775515717_-569163332","id":"20170722-143615_889296079","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12713"},{"title":"Visitor - Add","text":"INSERT INTO rdbms_visitor(name) VALUES\n    ('visitor5'), ('visitor4'), ('visitor7')","user":"anonymous","dateUpdated":"2017-07-23T02:11:40+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":3,"editorMode":"ace/mode/sql","title":true,"results":{},"enabled":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 3"}]},"apps":[],"jobName":"paragraph_1500775515717_-569163332","id":"20170722-130434_382399915","dateCreated":"2017-07-23T02:05:15+0000","dateStarted":"2017-07-23T02:11:40+0000","dateFinished":"2017-07-23T02:11:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:12714"},{"title":"Site - Add","text":"INSERT INTO rdbms_site(name) VALUES\n    ('site1'), ('site2'), ('site3')","dateUpdated":"2017-07-23T02:11:45+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":3,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{},"enabled":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 3"}]},"apps":[],"jobName":"paragraph_1500775515718_-568009085","id":"20170722-142944_2120240603","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12715"},{"title":"Site - Add","text":"INSERT INTO rdbms_action_type(name) VALUES\n    ('add_to_favorites'), ('comment'), ('page_view')","dateUpdated":"2017-07-23T02:11:19+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":3,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":93,"optionOpen":false}}},"enabled":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 3"}]},"apps":[],"jobName":"paragraph_1500775515718_-568009085","id":"20170722-143151_251264444","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12716"},{"title":"Visitor - ALL","text":"SELECT * from rdbms_visitor;","dateUpdated":"2017-07-23T02:11:57+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":3,"editorMode":"ace/mode/sql","title":true,"results":{"0":{"graph":{"mode":"table","height":126,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tname\n1\tvisitor1\n2\tvisitor2\n3\tvisitor3\n"}]},"apps":[],"jobName":"paragraph_1500775515719_-568393834","id":"20170722-112856_1729952982","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12717"},{"title":"Site - ALL","text":"SELECT * from rdbms_site;","dateUpdated":"2017-07-23T02:05:15+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":3,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":130,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tname\n1\tsite1\n2\tsite2\n3\tsite3\n"}]},"apps":[],"jobName":"paragraph_1500775515719_-568393834","id":"20170722-122725_1873328604","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12718"},{"title":"Action Type - ALL","text":"SELECT * from rdbms_action_type;","dateUpdated":"2017-07-23T02:05:15+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":3,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":130,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tname\n1\tadd_to_favorites\n2\tcomment\n3\tpage_view\n"}]},"apps":[],"jobName":"paragraph_1500775515719_-568393834","id":"20170722-122615_309947465","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12719"},{"title":"Action - Add","text":"INSERT INTO rdbms_action(\n    timestamp, site_id, action_type_id, \n    visitor_id, time_spent_seconds\n) VALUES\n    (1500631200000, 1, 1, 1, 1), \n    (1500631200000, 1, 2, 1, 2),\n    (1500631200000, 1, 2, 2, 3), \n    (1500631200000, 1, 3, 3, 4), \n    (1500631200000, 2, 1, 1, 5), \n    (1500631200000, 2, 1, 2, 6)","dateUpdated":"2017-07-23T02:11:59+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false},"colWidth":3,"editorMode":"ace/mode/sql","title":true,"results":{"0":{"graph":{"mode":"table","height":93,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 6"}]},"apps":[],"jobName":"paragraph_1500775515720_-570317579","id":"20170722-133737_1081367166","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12720"},{"dateUpdated":"2017-07-23T02:05:15+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala","editOnDblClick":false}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1500775515720_-570317579","id":"20170722-144224_236361148","dateCreated":"2017-07-23T02:05:15+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:12721"}],"name":"RDBMS","id":"2CRKEYUJC","angularObjects":{"2CPUWVP5P:shared_process":[],"2CMX1BK8X:shared_process":[],"2CPQVYZUH:shared_process":[],"2CPTACB2T:shared_process":[],"2CNCXFD9C:shared_process":[],"2CMANSMB2:shared_process":[],"2CN3J3U6B:shared_process":[],"2CPUN3PR5:shared_process":[],"2CMX9VC5S:shared_process":[],"2CM7YUB4W:shared_process":[],"2CMG8QA9E:shared_process":[],"2CPRDCDVN:shared_process":[],"2CN7JC2CN:shared_process":[],"2CQJT5CWQ:shared_process":[],"2CNA3PEUC:shared_process":[],"2CPYF9XD6:shared_process":[],"2CMVK2Q17:shared_process":[],"2CQK974U9:shared_process":[],"2CN983TWN:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}